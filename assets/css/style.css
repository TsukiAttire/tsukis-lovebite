/* Hyper-Y2K webcore / aesthetic carrd style
   Palette: chocolate browns + blush pinks (user palette)
*/

:root{
  --bg: #3b2a2a;
  --accent-dark:#5c3d3d;
  --accent-strong:#cc4455;
  --hot-pink:#ff99aa;
  --card:#ffe6e9;
  --subtle:#fff0f0;
  --gloss:#ffb3c6;
  --text:#3b2a2a;
}

/* basic resets */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'VT323', monospace;background:
  radial-gradient(circle at 10% 10%, #3b1f1f 0%, #2a1717 40%, #1f1212 100%);
color:var(--card);-webkit-font-smoothing:antialiased}
a{color:var(--accent-strong);text-decoration:none}

/* TOPBAR */
.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px 20px;
  gap:18px;
  background: linear-gradient(180deg, rgba(255,179,198,0.12), rgba(255,153,170,0.06));
  border-bottom: 2px solid rgba(255,179,198,0.14);
  position:sticky;top:0;backdrop-filter: blur(6px);
  z-index:1000;
}
.brand{display:flex;align-items:center;gap:12px}
.brand-icon{
  width:44px;height:44px;border-radius:10px;background:linear-gradient(180deg,#fff0f0,#ffdce6);
  color:var(--accent-strong);display:flex;align-items:center;justify-content:center;
  border:3px solid var(--accent-dark);font-size:20px;box-shadow:0 8px 20px rgba(255,153,170,0.12)
}
.brand-title{font-size:18px;color:var(--card);text-shadow:0 6px 0 rgba(0,0,0,0.25);font-weight:700}

/* NAV */
.nav{display:flex;gap:8px;align-items:center}
.nav-tab{
  background: linear-gradient(180deg,#fff3f6,#ffe6ee);
  color:var(--accent-strong);
  border:2px solid var(--accent-dark);
  padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700;
  box-shadow: 0 6px 0 rgba(0,0,0,0.12);
}
.nav-tab.active{background:linear-gradient(180deg,var(--hot-pink),#ff7ea0);color:#3b2a2a;transform:translateY(-2px)}

/* MAIN wrapper */
.main{max-width:1100px;margin:22px auto;padding:10px}
.page-panel{display:none}
.page-panel.active{display:block}

/* HERO */
.hero{display:flex;flex-direction:column;align-items:center;gap:12px;padding:36px}
.title-chrome{
  font-size:56px;
  color:var(--card);
  background: linear-gradient(90deg,#fff0f6,#ffd7ea 40%, #ff9ebc);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 12px 0 rgba(0,0,0,0.18), 0 1px 0 rgba(255,255,255,0.12);
  letter-spacing:1px;
}
.tagline{color:var(--subtle);opacity:0.9}

/* hero actions */
.hero-actions{display:flex;gap:12px;align-items:center}
.cta{
  background:linear-gradient(180deg,#ffccd5,#ff8fb0);color:#2f1b1b;border:3px solid var(--accent-dark);
  padding:12px 18px;border-radius:12px;font-weight:800;cursor:pointer;box-shadow: 0 10px 30px rgba(255,102,153,0.12)
}
.kofi-btn{background:linear-gradient(180deg,#fff0f0,#ffdce6);padding:10px 14px;border-radius:10px;border:2px solid var(--accent-dark);color:var(--accent-strong)}

/* CARDS */
.card{background:linear-gradient(180deg,#fff5f7,#fff0f4);padding:18px;border-radius:12px;border:3px solid var(--accent-dark);color:var(--accent-strong);box-shadow:0 12px 40px rgba(0,0,0,0.15)}
.links a{display:inline-block;margin:8px 10px;padding:8px 12px;border-radius:10px;background:#fff0f3;border:2px solid var(--accent-dark);color:var(--accent-strong)}

/* PHONE ICON */
.phone-icon{
  position:fixed;right:28px;bottom:26px;width:96px;z-index:9999;cursor:pointer;image-rendering:pixelated;
  filter: drop-shadow(0 16px 28px rgba(255,102,153,0.12));
  animation: ring 1.4s infinite;
}
@keyframes ring{
  0%{transform:translateY(0) rotate(0)}
  20%{transform:translateY(-6px) rotate(10deg)}
  40%{transform:translateY(0) rotate(-10deg)}
  60%{transform:translateY(-3px) rotate(6deg)}
  100%{transform:translateY(0) rotate(0)}
}

/* PET BUTTON (floating) */
.pet-button{
  position:fixed; left:20px; top:140px; z-index:9999; cursor:pointer; width:74px; height:74px;
  display:flex;align-items:center;justify-content:center;
}
.pet-button img{ width:70px; image-rendering:pixelated; }

/* VN window (aesthetic card) */
.vn{position:fixed;left:50%;bottom:14%;transform:translateX(-50%);width:86%;max-width:760px;border-radius:16px;padding:14px;z-index:9950;display:flex;justify-content:center}
.vn-card{display:flex;gap:14px;align-items:flex-end;background:linear-gradient(180deg,#fff6f8,#fff0f3);border:4px solid var(--accent-dark);padding:12px;border-radius:12px;box-shadow:0 30px 80px rgba(0,0,0,0.5)}
.vn.hidden{display:none}
.vn-left{flex:0 0 260px}
.tsuki-sprite, .tsuki-sprite img{width:100%;image-rendering:pixelated;border-radius:10px;border:3px solid var(--accent-dark);background:linear-gradient(180deg,#fff0f0,#fff7f7)}
.vn-right{flex:1}
.vn-box{padding:12px;border-radius:10px;background:linear-gradient(180deg,#fff6f8,#fff0f2);border:3px solid var(--accent-strong);min-height:120px;display:flex;flex-direction:column;justify-content:space-between}
.vn-text{color:var(--accent-dark);font-size:18px;min-height:56px;line-height:1.26}
.vn-choices{display:flex;flex-direction:column;gap:8px;margin-top:8px}
.optionButton{background:linear-gradient(180deg,#ffbfd2,#ff9db8);border:3px solid var(--accent-dark);padding:10px;border-radius:10px;color:#351a1a;font-weight:800;cursor:pointer;font-size:16px}
.vn-close{position:absolute;right:8px;top:-26px;background:var(--accent-dark);color:var(--card);border:3px solid var(--accent-strong);padding:6px 8px;border-radius:8px;cursor:pointer}

/* transition */
.sprite-transition{animation:fadeBounce 0.36s ease-out}
@keyframes fadeBounce{0%{opacity:0;transform:scale(0.96)}60%{opacity:1;transform:scale(1.04)}100%{opacity:1;transform:scale(1)}}

/* MODAL */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.50);z-index:9998;padding:20px}
.modal.hidden{display:none}
.modal-card{background:linear-gradient(180deg,#fff6f8,#fff0f4);border-radius:12px;padding:16px;border:3px solid var(--accent-strong);max-width:420px;width:100}
.modal-card input,.modal-card textarea{width:100%;padding:8px;border-radius:8px;border:2px solid var(--accent-dark);margin:8px 0;font-family:'VT323'}
.modal-actions{display:flex;gap:8px}
.submit-btn{flex:1;background:linear-gradient(180deg,#ffb3c6,#ff88af);border:2px solid var(--accent-dark);padding:10px;border-radius:8px;font-weight:800}
.close-btn{flex:1;background:transparent;border:2px solid var(--accent-dark);padding:10px;border-radius:8px}

/* Pet shop window (scrollable VN-sized) */
.pet-shop-window {
  width: 100%;
  max-height: 220px; /* keeps it VN-sized */
  overflow-y: auto;
  padding: 8px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-content:flex-start;
  border-radius:8px;
  background: linear-gradient(180deg,#fff3f6,#ffeef3);
  border:2px solid var(--accent-dark);
}
.pet-shop-item{
  width:120px;
  padding:8px;
  border-radius:8px;
  background:#fff0f4;
  border:2px solid rgba(92,61,61,0.14);
  text-align:center;
  font-size:13px;
  color:var(--accent-dark);
}
.pet-shop-item img{ width:56px; height:auto; image-rendering:pixelated; }

/* bath bubbles */
.pet-bubble { transition: transform .3s ease, opacity .3s ease; position:absolute; pointer-events:none; }

/* toast */
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:110px;background:var(--accent-dark);color:var(--card);padding:10px 14px;border-radius:8px;display:none;z-index:100000;font-family:'VT323'}
.toast.show{display:block}

/* background stars */
#starLayerGlobal { position: fixed; inset: 0; z-index: 1; pointer-events: none; }
.bg-star { position:absolute; border-radius:50%; pointer-events:none; box-shadow:0 0 8px rgba(255,200,220,0.9); transform:translate(-50%,-50%); }
.falling-star-collection { pointer-events:auto; cursor:pointer; user-select:none; font-family:VT323; }

/* responsive */
@media (max-width:720px){
  .title-chrome{font-size:32px}
  .vn-card{flex-direction:column;align-items:center}
  .vn-left{width:160px}
  .pet-shop-window{ max-height:180px }
}

/* Pet tools, bubbles & reactions (emoji + speech-bubble style) */
#petToolContainer { 
  display:flex; 
  gap:8px; 
  justify-content:center; 
  align-items:center; 
  margin-top:12px; 
}

.pet-tool{
  cursor:pointer; 
  font-size:20px; 
  padding:6px 8px; 
  border-radius:10px; 
  background:linear-gradient(180deg,#fff6f8,#fff0f2); 
  border:2px solid rgba(92,61,61,0.14); 
  color:var(--accent-dark); 
  box-shadow:0 8px 20px rgba(255,153,170,0.06); 
}

.tool-avatar{
  font-size:22px; 
  padding:6px 8px; 
  border-radius:10px; 
  background:linear-gradient(180deg,#fff,#ffeef3); 
  border:2px solid var(--accent-dark); 
}

.pet-bubble{
  transition: transform .6s ease, opacity .6s ease; 
  position:absolute; 
  border-radius:50%; 
  box-shadow:0 0 8px rgba(255,200,220,0.9); 
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(255,200,220,0.45)); 
  pointer-events:none; 
}

.reaction-bubble{
  position:absolute; 
  pointer-events:none; 
  font-size:18px; 
  padding:6px 8px; 
  border-radius:10px; 
  background: linear-gradient(180deg,#fff,#ffeef3); 
  border:2px solid var(--accent-dark); 
  color:var(--accent-dark); 
  transform-origin:center; 
  transition: transform 1.2s ease, opacity 1.2s ease; 
  box-shadow: 0 10px 30px rgba(0,0,0,0.12); 
  font-family: VT323, monospace; 
}
/* Force-hide hat when no image is loaded */
#petHat,
#petHat[src=""],
#petHat[src="null"],
#petHat[src="undefined"],
#petHat:not([src]) {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
}
/* ===== Hats & Pet Bounce UI ===== */
.pet-shop-item.shop-hat { width: 120px; padding: 8px; border-radius: 8px; background: linear-gradient(180deg,#fff3f6,#ffeef3); border:2px solid rgba(92,61,61,0.08); text-align:center; }
.pet-shop-item.shop-hat div { color: var(--accent-dark); font-family: VT323, monospace; }
.pet-hat-emoji { pointer-events: auto; user-select: none; }
.pet-bounce { display: inline-block; transform-origin: center; }

/* --- NEW ADDITIONS FOR UPDATE --- */

/* 1. THEME: Vampire Mode (Dark Red/Gothic) */
body.theme-vampire {
  --bg: #1a0505;
  --accent-dark: #2d0a0a;
  --accent-strong: #ff0033;
  --hot-pink: #8a0000;
  --card: #2b1111;
  --subtle: #3d1f1f;
  --gloss: #5c0000;
  --text: #ffcccc;
}
body.theme-vampire .hero .title-chrome {
  background: linear-gradient(90deg, #ff0000, #800000);
  -webkit-background-clip: text;
  text-shadow: 0 0 10px rgba(255,0,0,0.4);
}
body.theme-vampire .bg-star { box-shadow: 0 0 8px rgba(255,0,0,0.8); background:red; }

/* 2. THEME: Midnight Mode (Blue/Purple/Cyber) */
body.theme-midnight {
  --bg: #05051a;
  --accent-dark: #0a0a2d;
  --accent-strong: #00ffff;
  --hot-pink: #aa00ff;
  --card: #11112b;
  --subtle: #1f1f3d;
  --gloss: #005c5c;
  --text: #ccccff;
}
body.theme-midnight .hero .title-chrome {
  background: linear-gradient(90deg, #00ffff, #ff00ff);
  -webkit-background-clip: text;
  text-shadow: 0 0 10px rgba(0,255,255,0.4);
}

/* 3. SETTINGS: Theme Buttons */
.theme-btn {
  display:block; width:100%; padding:10px; margin-bottom:8px;
  border:2px solid var(--accent-dark); border-radius:8px;
  background: var(--card); color: var(--accent-strong);
  font-family: 'VT323', monospace; font-size:18px; cursor:pointer;
  text-align:left;
}
.theme-btn:hover { filter:brightness(1.1); }
.theme-btn.active-theme { border-color:var(--accent-strong); background:var(--bg); }

/* 4. VN: Gift Buttons */
.gift-btn {
  display:flex; justify-content:space-between;
  width:100%; padding:10px; margin-bottom:6px;
  background: linear-gradient(90deg, #fff0f5, #fff);
  border: 2px solid var(--accent-dark); border-radius:8px;
  font-family: 'VT323', monospace; font-size:18px; cursor:pointer;
  color: #3b2a2a;
}
.gift-btn:hover { transform: translateX(4px); }
.gift-cost { font-weight:bold; color:#cc4455; }
}
/* --- FIX: Force buttons to be clickable --- */
button, select, input {
  position: relative;
  z-index: 50; /* Ensures they sit above decorative layers */
  cursor: pointer;
}

/* --- SHOP STYLES --- */
.shop-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 10px;
}

.shop-btn {
  background: #fff;
  border: 2px solid var(--accent-dark);
  border-radius: 10px;
  padding: 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  transition: transform 0.1s;
  box-shadow: 0 4px 0 rgba(0,0,0,0.1);
}

.shop-btn:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 rgba(0,0,0,0.1);
}

.shop-btn .emoji { font-size: 28px; }
.shop-btn .label { font-size: 14px; font-weight: bold; color: var(--accent-dark); }
.shop-btn .cost { 
  background: var(--accent-strong); 
  color: var(--card); 
  padding: 2px 6px; 
  border-radius: 4px; 
  font-size: 12px; 
}
